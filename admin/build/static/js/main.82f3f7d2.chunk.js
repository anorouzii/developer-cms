(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{187:function(e,t,a){e.exports=a(403)},193:function(e,t,a){},194:function(e,t,a){},220:function(e,t){},222:function(e,t){},252:function(e,t){},253:function(e,t){},403:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(7),l=a(0),c=a.n(l),r=a(22),o=a.n(r),d=(a(193),a(194),a(23)),u=a(34),m=a(24),h=a(404),p=a(8),E=a.n(p),f=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,E.a.get("/api/check-access",a);case 4:n=e.sent,t({type:"VALID_TOKEN",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"INVALID_TOKEN"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},g=a(12),v=function(){var e=Object(g.c)(),t=Object(l.useState)(!0),a=Object(m.a)(t,2),n=a[0],s=a[1];Object(l.useEffect)((function(){window.innerWidth<768&&s(!1)}),[]);var i=Object(u.g)();if("/contents"!==i.pathname&&"/medias"!==i.pathname&&"/messages"!==i.pathname&&"/extra-fields"!==i.pathname)return null;return c.a.createElement("div",{className:"container"},window.innerWidth<768&&n&&c.a.createElement(h.a,{in:n,timeout:0,unmountOnExit:!0,classNames:"fade-anim"},c.a.createElement("div",{className:"overlay",onClick:function(){return s(!n)}})),c.a.createElement("nav",{className:"navbar light"},c.a.createElement("div",{className:"open-sidenav-btn",onClick:function(){return s(!n)}},c.a.createElement("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))),window.innerWidth<768&&n&&c.a.createElement("div",{className:"close-sidenav-btn",onClick:function(){return s(!n)}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))),c.a.createElement(h.a,{in:n,timeout:1e3,unmountOnExit:!0,classNames:"fade-anim"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("div",{className:"top"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),c.a.createElement("path",{d:"M4 9h16v2H4V9zm0 4h10v2H4v-2z"})),c.a.createElement("span",null,"Developer-CMS"))),c.a.createElement("li",null,c.a.createElement(d.c,{activeClassName:"active",to:"/contents"},"Contents")),c.a.createElement("li",null,c.a.createElement(d.c,{activeClassName:"active",to:"/messages"},"Messages")),c.a.createElement("li",null,c.a.createElement(d.c,{activeClassName:"active",to:"/medias"},"Medias")),c.a.createElement("li",null,c.a.createElement(d.c,{activeClassName:"active",to:"/extra-fields"},"Extra Fields")))),c.a.createElement("span",{className:"btn logout-btn",onClick:function(){e((function(e){e({type:"LOGOUT"})}))}},"Logout",c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"})))))},b=a(41),w=a(4),M={items:[],failGetContents:0,failAddContent:0,successAddContent:0,failDeleteContent:0,successDeleteContent:0,failUpdateContent:0,successUpdateContent:0},x={isAuthenticated:!1,failLogin:0,invalidToken:!1},C={items:[],failGetMessages:0,failDeleteMessage:0,deletedMessage:0},y={items:[],failGetExtraFields:0,failUpdateExtraFields:0,successUpdateExtraFields:0,successDeleteExtraField:0,failDeleteExtraField:0},T={items:[],current:{},failGetMedias:0,failDeleteMedia:0,failUploadMedia:0,successDeleteMedia:0,successUploadMedia:0},D=Object(b.b)({contents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONTENTS":return Object(w.a)({},e,{items:t.payload});case"FAIL_GET_CONTENTS":return Object(w.a)({},e,{failGetContents:e.failGetContents+1});case"ADD_CONTENT":return Object(w.a)({},e,{successAddContent:e.successAddContent+1});case"FAIL_ADD_CONTENT":return Object(w.a)({},e,{failAddContent:e.failAddContent+1});case"DELETE_CONTENT":return Object(w.a)({},e,{successDeleteContent:e.successDeleteContent+1});case"FAIL_DELETE_CONTENT":return Object(w.a)({},e,{failDeleteContent:e.failDeleteContent+1});case"UPDATE_CONTENT":return Object(w.a)({},e,{successUpdateContent:e.successUpdateContent+1});case"FAIL_UPDATE_CONTENT":return Object(w.a)({},e,{failUpdateContent:e.failUpdateContent+1});case"CLEAR_CONTENT_STATE":return Object(w.a)({},e,{items:[],failGetContents:0,failAddContent:0,successAddContent:0,failDeleteContent:0,successDeleteContent:0,failUpdateContent:0,successUpdateContent:0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_LOGIN":return localStorage.setItem("dc-auth-token",t.payload.token),Object(w.a)({},e,{isAuthenticated:!0,failLogin:e.failLogin,invalidToken:!1});case"FAIL_LOGIN":return Object(w.a)({},e,{isAuthenticated:!1,failLogin:e.failLogin+1,invalidToken:!1});case"VALID_TOKEN":return Object(w.a)({},e,{isAuthenticated:!0,failLogin:0,invalidToken:!1});case"INVALID_TOKEN":return localStorage.removeItem("dc-auth-token"),Object(w.a)({},e,{isAuthenticated:!1,failLogin:0,invalidToken:!0});case"LOGOUT":return localStorage.removeItem("dc-auth-token"),Object(w.a)({},e,{isAuthenticated:!1,failLogin:0,invalidToken:!1});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MESSAGES":return Object(w.a)({},e,{items:t.payload});case"FAIL_GET_MESSAGES":return Object(w.a)({},e,{failGetMessages:e.failGetMessages+1});case"DELETE_MESSAGE":return Object(w.a)({},e,{deletedMessage:e.deletedMessage+1});case"FAIL_DELETE_MESSAGE":return Object(w.a)({},e,{failDeleteMessage:e.failDeleteMessage+1});case"CLEAR_MESSAGE_STATE":return Object(w.a)({},e,{items:[],failGetMessages:0,failDeleteMessage:0,deletedMessage:0});default:return e}},extraFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EXTRA_FIELDS":return Object(w.a)({},e,{items:t.payload});case"FAIL_GET_EXTRA_FIELDS":return Object(w.a)({},e,{failGetExtraFields:e.failGetExtraFields+1});case"UPDATE_EXTRA_FIELDS":return Object(w.a)({},e,{successUpdateExtraFields:e.successUpdateExtraFields+1});case"FAIL_UPDATE_EXTRA_FIELDS":return Object(w.a)({},e,{failUpdateExtraFields:e.failUpdateExtraFields+1});case"SUCCESS_DELETE_EXTRA_FIELD":return Object(w.a)({},e,{successDeleteExtraField:e.successDeleteExtraField+1});case"FAIL_DELETE_EXTRA_FIELD":return Object(w.a)({},e,{failDeleteExtraField:e.failDeleteExtraField+1});case"CLEAR_EXTRA_FIELD_STATE":return Object(w.a)({},e,{items:[],failGetExtraFields:0,failUpdateExtraFields:0,successUpdateExtraFields:0,successDeleteExtraField:0,failDeleteExtraField:0});default:return e}},media:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MEDIAS":return Object(w.a)({},e,{items:t.payload});case"FAIL_GET_MEDIAS":return Object(w.a)({},e,{failGetMedias:e.failGetMedias+1});case"DELETE_MEDIA":return Object(w.a)({},e,{successDeleteMedia:e.successDeleteMedia+1});case"FAIL_DELETE_MEDIA":return Object(w.a)({},e,{failDeleteMedia:e.failDeleteMedia+1});case"UPLOAD_MEDIA":return Object(w.a)({},e,{successUploadMedia:e.successUploadMedia+1,current:t.payload});case"FAIL_UPLOAD_MEDIA":return Object(w.a)({},e,{failUploadMedia:e.failUploadMedia+1});case"CLEAR_MEDIA_STATE":return Object(w.a)({},e,{items:[],current:{},failGetMedias:0,failDeleteMedia:0,failUploadMedia:0,successDeleteMedia:0,successUploadMedia:0});default:return e}}}),S=Object(b.c)(D,{}),k=a(180),A=function(e){var t=e.component,a=Object(k.a)(e,["component"]),n=Object(g.c)(),s=Object(g.d)((function(e){return e.auth.isAuthenticated}));return Object(l.useEffect)((function(){n(f())}),[]),c.a.createElement(u.b,Object.assign({},a,{render:function(e){return s?c.a.createElement(t,e):c.a.createElement(u.a,{to:"/"})}}))},N=a(42),O=a(27),F=a(28),L=a(17),j=a(30),I=a(29),U=a(20),_=Object(l.forwardRef)((function(e,t){var a=Object(l.useState)(!1),n=Object(m.a)(a,2),s=n[0],i=n[1],r=Object(l.useState)(""),o=Object(m.a)(r,2),d=o[0],u=o[1],h=Object(l.useState)(""),p=Object(m.a)(h,2),E=p[0],f=p[1];return Object(l.useImperativeHandle)(t,(function(){return{showToast:function(e,t){i(!s),f(e),u(t),setTimeout((function(){i(!1)}),2500)}}})),c.a.createElement("div",{className:s?"toast "+E+" active":"toast "+E},c.a.createElement("p",null,d))})),z=a(109),P=a.n(z),G=function(e){Object(j.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={failAttempt:0,username:"",password:"",remember:!1},n.onChange=n.onChange.bind(Object(L.a)(n)),n.onSubmit=n.onSubmit.bind(Object(L.a)(n)),n.onRemember=n.onRemember.bind(Object(L.a)(n)),n.toast=c.a.createRef(),n}return Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("rememberMode");case 2:"yes"==t.sent&&(e.setState({remember:!0}),e.props.checkToken());case 4:case"end":return t.stop()}}),t)})))()}},{key:"componentWillReceiveProps",value:function(e){e.isAuthenticated?e.history.push("/contents"):e.failLogin!==this.state.failAttempt?(this.toast.current.showToast("red","Username or password is not correct."),this.setState({failAttempt:e.failLogin})):e.invalidToken&&this.toast.current.showToast("red","There is something is wrong with you token. Log in again")}},{key:"onChange",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){if(e.preventDefault(),""===this.state.password||""===this.state.username)this.toast.current.showToast("red","Please enter username and password");else{var t=P.a.genSaltSync(10),a=P.a.hashSync(this.state.password,t);this.props.createToken(this.state.username,a)}}},{key:"onRemember",value:function(){this.setState({remember:!this.state.remember}),this.state.remember?this.state.remember&&localStorage.removeItem("rememberMode"):localStorage.setItem("rememberMode","yes")}},{key:"render",value:function(){return c.a.createElement("div",{className:"login-page"},c.a.createElement(U.a,null,c.a.createElement("title",null,"Login")),c.a.createElement("form",{className:"form-wrapper"},c.a.createElement("svg",{className:"login-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"})),c.a.createElement("h1",null,"Log in to dashboard"),c.a.createElement("input",{value:this.state.username,name:"username",onChange:this.onChange,className:"form-input",type:"text",placeholder:"Username"}),c.a.createElement("input",{value:this.state.password,name:"password",onChange:this.onChange,className:"form-input",type:"password",placeholder:"Password"}),c.a.createElement("input",{onChange:this.onRemember,checked:this.state.remember,className:"form-checkbox",id:"remember_me",type:"checkbox"}),c.a.createElement("label",{htmlFor:"remember_me"},"Remember Me"),c.a.createElement("button",{className:"btn blue login-btn",onClick:this.onSubmit},"Login")),c.a.createElement(_,{ref:this.toast}))}}]),a}(c.a.Component),R=Object(g.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,failLogin:e.auth.failLogin,invalidToken:e.auth.invalidToken}}),{createToken:function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var i,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,E.a.post("/api/check-access",{username:e,password:t},i);case 4:l=a.sent,n({type:"SUCCESS_LOGIN",payload:l.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"FAIL_LOGIN"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},checkToken:f})(G),H=a(35),V=a(183),B=a.n(V),Q=(a(394),function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),i={headers:{"Content-Type":"multipart/form-data"}},t.prev=3,t.next=6,E.a.post("/api/medias",n,i);case 6:l=t.sent,a({type:"UPLOAD_MEDIA",payload:l.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a({type:"FAIL_UPLOAD_MEDIA"});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}),W=function(){return function(e){e({type:"CLEAR_MEDIA_STATE"})}},q=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))},X=a(184),K=a(54),J=a(74),Y=a.n(J),Z=function(e){Object(j.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).handleAddFields=function(){var e=Object(H.a)(n.state.inputFields);e.push({key:"",value:""}),n.setState({inputFields:e})},n.handleRemoveFields=function(e){var t=Object(H.a)(n.state.inputFields);t.splice(e,1),n.setState({inputFields:t})},n.handleInputChange=function(e,t){var a=Object(H.a)(n.state.inputFields);"key"===t.target.name?a[e].key=t.target.value:a[e].value=t.target.value,n.setState({inputFields:a})},n.state={title:"",content:"",draft:!1,thumbnail:"",isEdit:!1,editID:"",cleanData:!1,inputFields:[],successUploadQuillMedia:!1,failGetContents:0,failAddContent:0,successAddContent:0,failDeleteContent:0,successDeleteContent:0,failUpdateContent:0,successUpdateContent:0,failUploadMedia:0,successUploadMedia:0,itemPerPage:8,currentPage:1,paginationStartIndex:0,paginationEndIndex:8,finishLoading:!1,uploadMediaLoading:!1,quillUploadMediaLoading:!1,showMediaModal:!1},n.toast=c.a.createRef(),n.onChange=n.onChange.bind(Object(L.a)(n)),n.onPublish=n.onPublish.bind(Object(L.a)(n)),n.onEdit=n.onEdit.bind(Object(L.a)(n)),n.clearContentState=n.clearContentState.bind(Object(L.a)(n)),n.QuillConst={clipboard:{matchVisual:!1},modules:{toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["code-block"],[{align:[]}],["clean"]]}}},n.onChangeQuill=n.onChangeQuill.bind(Object(L.a)(n)),n.QuillMediaHandler=n.QuillMediaHandler.bind(Object(L.a)(n)),n.reactQuillRef=null,n}return Object(F.a)(a,[{key:"componentWillMount",value:function(){this.props.getContents()}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({finishLoading:!0})}),8e3)}},{key:"componentWillUnmount",value:function(){this.props.clearContentState(),this.props.clearMediaState()}},{key:"componentWillReceiveProps",value:function(e){e.failGetContents!==this.state.failGetContents&&(this.toast.current.showToast("red","An error occurred while getting contents."),this.setState({failGetContents:e.failGetContents})),e.failAddContent!==this.state.failAddContent&&(this.toast.current.showToast("red","An error occurred while adding content."),this.setState({failAddContent:e.failAddContent})),e.successAddContent!==this.state.successAddContent&&(this.toast.current.showToast("green","The content was successfully added."),this.setState({successAddContent:e.successAddContent}),this.props.getContents(),this.clearContentState()),e.failDeleteContent!==this.state.failDeleteContent&&(this.toast.current.showToast("red","An error occurred while deleting content."),this.setState({failDeleteContent:e.failDeleteContent})),e.successDeleteContent!==this.state.successDeleteContent&&(this.toast.current.showToast("green","The content was successfully deleted."),this.setState({successDeleteContent:e.successDeleteContent}),this.props.getContents()),e.failUpdateContent!==this.state.failUpdateContent&&(this.toast.current.showToast("red","An error occurred while updating content."),this.setState({failUpdateContent:e.failUpdateContent})),e.successUpdateContent!==this.state.successUpdateContent&&(this.toast.current.showToast("green","The content was successfully updated."),this.setState({successUpdateContent:e.successUpdateContent}),this.props.getContents(),this.clearContentState()),e.failUploadMedia!==this.state.failUploadMedia&&(this.toast.current.showToast("red","An error occurred while uploading thumbnail."),this.setState({failUploadMedia:e.failUploadMedia})),e.successUploadMedia!==this.state.successUploadMedia&&(this.setState({successUploadMedia:e.successUploadMedia,uploadMediaLoading:!1}),this.state.showMediaModal?this.setState({quillUploadMediaLoading:!1,successUploadQuillMedia:!0}):this.toast.current.showToast("green","The thumbnail was successfully uploaded.")),e.current!==this.state.thumbnail&&(this.state.showMediaModal||this.setState({thumbnail:e.current.name}))}},{key:"onChangeQuill",value:function(e){this.setState({content:e})}},{key:"onChange",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"changePage",value:function(e){this.setState({currentPage:e,paginationEndIndex:e*this.state.itemPerPage,paginationStartIndex:e*this.state.itemPerPage-this.state.itemPerPage})}},{key:"pagination",value:function(){for(var e=this,t=Math.ceil(this.props.items.length/this.state.itemPerPage),a=[],n=function(t){a.push(c.a.createElement("li",{key:t,onClick:function(){return e.changePage(t)},className:e.state.currentPage===t?"active":""},c.a.createElement("span",null,t)))},s=1;s<=t;s++)n(s);return a}},{key:"onEdit",value:function(e){var t=this.props.items.filter((function(t){return t.uniqueID===e}));this.setState({title:t[0].title,content:t[0].content,thumbnail:t[0].thumbnail,draft:t[0].draft,cleanData:t[0].clean_data,inputFields:t[0].extra_fields,isEdit:!0,editID:e}),X.animateScroll.scrollToTop()}},{key:"copyToClipboard",value:function(e){Y()("".concat(document.location.origin,"/api/contents/").concat(e)),this.toast.current.showToast("green","Copied to clipboard.")}},{key:"onPublish",value:function(){if(this.state.title.length>0&&this.state.content.length>0){var e={title:this.state.title,content:this.state.content,draft:this.state.draft,clean_data:this.state.cleanData,thumbnail:this.state.thumbnail,extra_fields:this.state.inputFields};this.state.cleanData&&(e.content=this.reactQuillRef.getEditor().getContents()),this.state.isEdit?this.props.updateContent(e,this.state.editID):this.props.addContent(e)}else this.toast.current.showToast("red","Title and content cannot be empty.")}},{key:"onchangeFile",value:function(e){this.setState({uploadMediaLoading:!0});var t=e[0];t.size>10485760?this.toast.current.showToast("red","File size must be less than 10 MG."):t.type.match("image.*")?this.props.addMedia(t):this.toast.current.showToast("red","The selected file must be Video or Image")}},{key:"clearContentState",value:function(){this.setState({title:"",content:"",thumbnail:"",inputFields:[],draft:!1,cleanData:!1,isEdit:!1,editID:""})}},{key:"QuillMediaHandler",value:function(){var e,t=this.reactQuillRef.getEditor().getSelection(),a=t?t.index:0;this.props.current.mimeType.match("image.*")&&(e="image"),this.props.current.mimeType.match("video.*")&&(e="video"),this.reactQuillRef.getEditor().insertEmbed(a,e,document.location.origin+"/"+this.props.current.name),this.setState({showMediaModal:!1,successUploadQuillMedia:!1})}},{key:"QuillOnChangeFile",value:function(e){this.setState({quillUploadMediaLoading:!0});var t=e[0];t.size>104857600?this.toast.current.showToast("red","Media size must be less than 100 MG."):t.type.match("image.*")||t.type.match("video.*")?this.props.addMedia(t):this.toast.current.showToast("red","The selected media must be Video or Image")}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container"},c.a.createElement(U.a,null,c.a.createElement("title",null,"Contents")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-9",style:{position:"relative"}},c.a.createElement("input",{value:this.state.title,name:"title",onChange:this.onChange,type:"text",placeholder:" Title",className:"form-input title-input"}),c.a.createElement("button",{className:"btn quill-add-media",onClick:function(){return e.setState({showMediaModal:!e.state.showMediaModal})}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M22 13h-8v-2h8v2zm0-6h-8v2h8V7zm-8 10h8v-2h-8v2zm-2-8v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2zm-1.5 6l-2.25-3-1.75 2.26-1.25-1.51L3.5 15h7z"})),"Add Media"),c.a.createElement(B.a,{ref:function(t){e.reactQuillRef=t},style:{zIndex:3,position:"relative"},modules:this.QuillConst.modules,onChange:this.onChangeQuill,value:this.state.content,theme:"snow"}),this.state.inputFields.length>0&&c.a.createElement("div",{className:"card extra-fields-content-container"},this.state.inputFields.map((function(t,a){return c.a.createElement(l.Fragment,{key:"".concat(t,"~").concat(a)},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("input",{placeholder:"key",type:"text",className:"form-input",id:"key",name:"key",value:t.key,onChange:function(t){return e.handleInputChange(a,t)}})),c.a.createElement("div",{className:"col-8"},c.a.createElement("input",{placeholder:"value",type:"text",className:"form-input",id:"value",name:"value",value:t.value,onChange:function(t){return e.handleInputChange(a,t)}})),c.a.createElement("div",{className:"btn white regular remove-field-btn",onClick:function(){return e.handleRemoveFields(a)}},"Remove")))}))),c.a.createElement("div",{className:"card extra-field",onClick:function(){return e.handleAddFields()}},c.a.createElement("span",{className:"tooltip fade","data-title":"Extra field"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 443.733 443.733"},c.a.createElement("path",{d:"M187.733 0H17.067C7.641 0 0 7.641 0 17.067v170.667c0 9.426 7.641 17.067 17.067 17.067h170.667c9.426 0 17.067-7.641 17.067-17.067V17.067C204.8 7.641 197.159 0 187.733 0zm-17.066 170.667H34.133V34.133h136.533v136.534zM426.667 0H256c-9.426 0-17.067 7.641-17.067 17.067v170.667c0 9.426 7.641 17.067 17.067 17.067h170.667c9.426 0 17.067-7.641 17.067-17.067V17.067C443.733 7.641 436.092 0 426.667 0zM409.6 170.667H273.067V34.133H409.6v136.534zM187.733 238.933H17.067C7.641 238.933 0 246.574 0 256v170.667c0 9.426 7.641 17.067 17.067 17.067h170.667c9.426 0 17.067-7.641 17.067-17.067V256c-.001-9.426-7.642-17.067-17.068-17.067zM170.667 409.6H34.133V273.067h136.533V409.6zM426.667 324.267H358.4V256c0-9.426-7.641-17.067-17.067-17.067s-17.067 7.641-17.067 17.067v68.267H256c-9.426 0-17.067 7.641-17.067 17.067S246.574 358.4 256 358.4h68.267v68.267c0 9.426 7.641 17.067 17.067 17.067s17.067-7.641 17.067-17.067V358.4h68.267c9.426 0 17.067-7.641 17.067-17.067s-7.643-17.066-17.068-17.066z"}))))),c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"card",style:{position:"sticky",top:"10px"}},this.state.isEdit&&c.a.createElement("button",{className:"btn cancel-edit regular",onClick:this.clearContentState},"Cancel Editing"),c.a.createElement("div",{className:this.state.uploadMediaLoading?"choose-media uploading-media-loading":"choose-media"},this.state.thumbnail&&c.a.createElement("div",{className:"cover",style:{"--bg-image":"url("+document.location.origin+"/"+this.state.thumbnail+")"}}),c.a.createElement(K.a,{onDrop:function(t){return e.onchangeFile(t)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return c.a.createElement("div",Object.assign({style:{padding:"50px 15px"}},t()),c.a.createElement("input",a()),c.a.createElement("p",{className:"text"},"Choose a thumbnail"))}))),c.a.createElement("div",{className:"switch-wrapper"},c.a.createElement("div",null,c.a.createElement("span",null,"Draft"),c.a.createElement("input",{checked:this.state.draft,type:"checkbox",onChange:function(){return e.setState({draft:!e.state.draft})},id:"draft",className:"switch"}),c.a.createElement("label",{htmlFor:"draft"})),c.a.createElement("div",null,c.a.createElement("span",null,"Clean data"),c.a.createElement("input",{checked:this.state.cleanData,type:"checkbox",onChange:function(){return e.setState({cleanData:!e.state.cleanData})},id:"cleanData",className:"switch"}),c.a.createElement("label",{htmlFor:"cleanData"}))),c.a.createElement("a",{href:"#",className:"btn block blue publish",onClick:this.onPublish},this.state.draft?"Draft":"Publish")))),c.a.createElement("div",{className:"row mt-25"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement("table",null,c.a.createElement("caption",null,"Your posts"),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Title"),c.a.createElement("th",{scope:"col"},"Create date"),c.a.createElement("th",{scope:"col"},"Status"),c.a.createElement("th",{scope:"col"},"Action"))),c.a.createElement("tbody",null,this.props.items.slice(this.state.paginationStartIndex,this.state.paginationEndIndex).map((function(t){return c.a.createElement("tr",{key:t.uniqueID},c.a.createElement("td",{"data-label":"Title"},t.title),c.a.createElement("td",{"data-label":"Time"},new Date(t.date).toDateString()),c.a.createElement("td",{"data-label":"Status"},t.draft?"Draft":"Publish"),c.a.createElement("td",{"data-label":"Action"},c.a.createElement("div",{className:"action"},c.a.createElement("span",{className:"tooltip fade","data-title":"Edit",onClick:function(){return e.onEdit(t.uniqueID)}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))),c.a.createElement("span",{className:"tooltip fade","data-title":"Delete",onClick:function(){return e.props.deleteContent(t.uniqueID)}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),c.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}))),c.a.createElement("span",{className:"tooltip fade","data-title":"Get Endpoint",onClick:function(){return e.copyToClipboard(t.uniqueID)}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),c.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))))))})))),!this.state.finishLoading&&this.props.items.length<=0&&c.a.createElement("div",{style:{margin:"60px 0 0",textAlign:"center"}},c.a.createElement(q,null)),this.state.finishLoading&&this.props.items.length<=0&&c.a.createElement("p",{className:"no-data"},"It seems there is no content."),c.a.createElement("ul",{className:"pagination"},Math.ceil(this.props.items.length/this.state.itemPerPage)>1&&this.pagination().map((function(e){return e})))))),c.a.createElement(_,{ref:this.toast}),c.a.createElement(h.a,{in:this.state.showMediaModal,timeout:1e3,unmountOnExit:!0,classNames:"fade-anim"},c.a.createElement("div",{className:"modal-container"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},"Add media",c.a.createElement("button",{className:"btn white regular close-modal-btn",onClick:function(){return e.setState({showMediaModal:!e.state.showMediaModal})}},"Close")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{className:this.state.quillUploadMediaLoading?"choose-media uploading-media-loading":"choose-media"},this.state.successUploadQuillMedia?c.a.createElement("div",{className:"quill-success-upload-media"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})),c.a.createElement("p",null,"The media was successfully uploaded. You can now add it to your content.")):c.a.createElement(K.a,{onDrop:function(t){return e.QuillOnChangeFile(t)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return c.a.createElement("section",null,c.a.createElement("div",Object.assign({style:{padding:"50px 30px"}},t()),c.a.createElement("input",a()),c.a.createElement("p",{style:{marginBottom:"15px",fontSize:"15px",fontWeight:600}},"Drag & drop some files here, or click to select files"),c.a.createElement("p",null,"Video & Image (100MB)")))})))),c.a.createElement("div",{className:"modal-footer"},this.state.successUploadQuillMedia?c.a.createElement("button",{className:"btn regular dark",onClick:function(){return e.QuillMediaHandler()}},"Insert"):c.a.createElement("button",{disabled:!0,className:"btn regular disable"},"Insert"))))))}}]),a}(c.a.Component),$=Object(g.b)((function(e){return{items:e.contents.items,failGetContents:e.contents.failGetContents,failAddContent:e.contents.failAddContent,successAddContent:e.contents.successAddContent,failDeleteContent:e.contents.failDeleteContent,successDeleteContent:e.contents.successDeleteContent,failUpdateContent:e.contents.failUpdateContent,successUpdateContent:e.contents.successUpdateContent,failUploadMedia:e.media.failUploadMedia,successUploadMedia:e.media.successUploadMedia,current:e.media.current}}),{addMedia:Q,updateContent:function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},a.prev=1,a.next=4,E.a.put("/api/contents/".concat(t),e,i);case 4:n({type:"UPDATE_CONTENT"}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),n({type:"FAIL_UPDATE_CONTENT"});case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},getContents:function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/contents/admin");case 3:a=e.sent,t({type:"GET_CONTENTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"FAIL_GET_CONTENTS"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},deleteContent:function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.delete("/api/contents/".concat(e));case 3:a({type:"DELETE_CONTENT"}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"FAIL_DELETE_CONTENT"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},addContent:function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,E.a.post("/api/contents",e,n);case 4:a({type:"ADD_CONTENT"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"FAIL_ADD_CONTENT"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},clearContentState:function(){return function(e){e({type:"CLEAR_CONTENT_STATE"})}},clearMediaState:W})(Z),ee=function(e){Object(j.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={showUpload:!1,failGetMedias:0,failDeleteMedia:0,failUploadMedia:0,successDeleteMedia:0,successUploadMedia:0,itemPerPage:8,currentPage:1,paginationStartIndex:0,paginationEndIndex:8,finishLoading:!1,uploadMediaLoading:!1},n.toast=c.a.createRef(),n}return Object(F.a)(a,[{key:"componentWillMount",value:function(){this.props.getMedias()}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({finishLoading:!0})}),8e3)}},{key:"componentWillReceiveProps",value:function(e){e.failGetMedias!==this.state.failGetMedias&&(this.toast.current.showToast("red","An error occurred while getting medias."),this.setState({failGetMedias:e.failGetMedias})),e.successDeleteMedia!==this.state.successDeleteMedia&&(this.toast.current.showToast("green","The media was successfully deleted."),this.setState({successDeleteMedia:e.successDeleteMedia}),this.props.getMedias()),e.successUploadMedia!==this.state.successUploadMedia&&(this.toast.current.showToast("green","The media was successfully uploaded."),this.setState({successUploadMedia:e.successUploadMedia,uploadMediaLoading:!1}),this.props.getMedias()),e.failDeleteMedia!==this.state.failDeleteMedia&&(this.toast.current.showToast("red","An error occurred while deleting media."),this.setState({failDeleteMedia:e.failDeleteMedia})),e.failUploadMedia!==this.state.failUploadMedia&&(this.toast.current.showToast("red","An error occurred while uploading media."),this.setState({failUploadMedia:e.failUploadMedia}))}},{key:"componentWillUnmount",value:function(){this.props.clearMediaState()}},{key:"mimeTypeIcon",value:function(e){return e.match("image.*")?c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})):e.match("audio.*")?c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})):e.match("video.*")?c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"})):e.match("application/x-zip-compressed")?c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})):c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))}},{key:"bytesToSize",value:function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}},{key:"copyToClipboard",value:function(e){Y()("".concat(document.location.origin,"/").concat(e)),this.toast.current.showToast("green","Copied to clipboard.")}},{key:"onchangeFile",value:function(e){this.setState({uploadMediaLoading:!0});var t=e[0];t.size>104857600?this.toast.current.showToast("red","File size must be less than 100 MG."):t.type.match("image.*")||t.type.match("audio.*")||t.type.match("video.*")||t.type.match("application/x-zip-compressed")?this.props.addMedia(t):this.toast.current.showToast("red","The selected file must be ZIP, Audio, Video or Image")}},{key:"onDeleteMedia",value:function(e){this.props.deleteMedia(e)}},{key:"changePage",value:function(e){this.setState({currentPage:e,paginationEndIndex:e*this.state.itemPerPage,paginationStartIndex:e*this.state.itemPerPage-this.state.itemPerPage})}},{key:"pagination",value:function(){for(var e=this,t=Math.ceil(this.props.items.length/this.state.itemPerPage),a=[],n=function(t){a.push(c.a.createElement("li",{key:t,onClick:function(){return e.changePage(t)},className:e.state.currentPage===t?"active":""},c.a.createElement("span",null,t)))},s=1;s<=t;s++)n(s);return a}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container mt-25"},c.a.createElement(U.a,null,c.a.createElement("title",null,"Medias")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement(h.a,{in:this.state.showUpload,timeout:400,unmountOnExit:!0,classNames:"exp-anim"},c.a.createElement("div",{className:"card",style:{marginBottom:"15px"}},c.a.createElement("div",{className:this.state.uploadMediaLoading?"choose-media uploading-media-loading":"choose-media"},c.a.createElement(K.a,{onDrop:function(t){return e.onchangeFile(t)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return c.a.createElement("section",null,c.a.createElement("div",Object.assign({style:{padding:"50px 30px"}},t()),c.a.createElement("input",a()),c.a.createElement("p",{style:{marginBottom:"15px",fontSize:"15px",fontWeight:600}},"Drag & drop some files here, or click to select files"),c.a.createElement("p",null,"Zip, Audio, Video & Image (100MB)")))}))))),c.a.createElement("div",{className:"card"},c.a.createElement("table",null,c.a.createElement("caption",null,"Medias",c.a.createElement("button",{onClick:function(){return e.setState({showUpload:!e.state.showUpload})},className:"btn outline regular upload-btn"},"Upload New")),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Title"),c.a.createElement("th",{scope:"col"},"Upload Date"),c.a.createElement("th",{scope:"col"},"Size"),c.a.createElement("th",{scope:"col"},"Action"))),c.a.createElement("tbody",null,this.props.items.slice(this.state.paginationStartIndex,this.state.paginationEndIndex).map((function(t){return c.a.createElement("tr",{key:t.uniqueID},c.a.createElement("td",{"data-label":"Name"},c.a.createElement("div",{className:"mime-type"},e.mimeTypeIcon(t.mimeType)),t.name),c.a.createElement("td",{"data-label":"Time"},new Date(t.uploadDate).toDateString()),c.a.createElement("td",{"data-label":"Size"},e.bytesToSize(t.size)),c.a.createElement("td",{"data-label":"Action"},c.a.createElement("div",{className:"action"},c.a.createElement("span",{onClick:function(){return e.onDeleteMedia(t.uniqueID)},className:"tooltip fade","data-title":"Delete"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}))),c.a.createElement("span",{onClick:function(){return e.copyToClipboard(t.name)},className:"tooltip fade","data-title":"Get URL"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),c.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))))))})))),!this.state.finishLoading&&this.props.items.length<=0&&c.a.createElement("div",{style:{margin:"60px 0 40px",textAlign:"center"}},c.a.createElement(q,null)),this.state.finishLoading&&this.props.items.length<=0&&c.a.createElement("p",{className:"no-data"},"It seems there is no media."),c.a.createElement("ul",{className:"pagination"},Math.ceil(this.props.items.length/this.state.itemPerPage)>1&&this.pagination().map((function(e){return e})))))),c.a.createElement(_,{ref:this.toast}))}}]),a}(c.a.Component),te=Object(g.b)((function(e){return{items:e.media.items.reverse(),failGetMedias:e.media.failGetMedias,failDeleteMedia:e.media.failDeleteMedia,failUploadMedia:e.media.failUploadMedia,successDeleteMedia:e.media.successDeleteMedia,successUploadMedia:e.media.successUploadMedia}}),{getMedias:function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/medias");case 3:a=e.sent,t({type:"GET_MEDIAS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"FAIL_GET_MEDIAS"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},deleteMedia:function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.delete("/api/medias/".concat(e));case 3:a({type:"DELETE_MEDIA"}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"FAIL_DELETE_MEDIA"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},addMedia:Q,clearMediaState:W})(ee),ae=Object(l.forwardRef)((function(e,t){var a=Object(l.useState)(!1),n=Object(m.a)(a,2),s=n[0],i=n[1],r=Object(l.useState)(""),o=Object(m.a)(r,2),d=o[0],u=o[1],p=Object(l.useState)(""),E=Object(m.a)(p,2),f=E[0],g=E[1],v=Object(l.useState)(""),b=Object(m.a)(v,2),w=b[0],M=b[1];return Object(l.useImperativeHandle)(t,(function(){return{showModal:function(e,t,a){i(!s),u(t),g(e),M(a)}}})),c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{in:s,timeout:1e3,unmountOnExit:!0,classNames:"fade-anim"},c.a.createElement("div",{className:"modal-container"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},f,c.a.createElement("button",{className:"btn white regular close-modal-btn",onClick:function(){return i(!s)}},"Close")),c.a.createElement("div",{className:"modal-body"},d),c.a.createElement("div",{className:"modal-footer"},w)))))})),ne={headers:{"Content-Type":"application/json"}},se=function(e){Object(j.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={deletedMessage:0,failGetMessages:0,failDeleteMessage:0,itemPerPage:8,currentPage:1,paginationStartIndex:0,paginationEndIndex:8,finishLoading:!1},n.modal=c.a.createRef(),n.toast=c.a.createRef(),n}return Object(F.a)(a,[{key:"componentWillMount",value:function(){this.props.getMessages()}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({finishLoading:!0})}),8e3)}},{key:"componentWillReceiveProps",value:function(e){e.failGetMessages!==this.state.failGetMessages&&(this.toast.current.showToast("red","An error occurred while getting messages."),this.setState({failGetMessages:e.failGetMessages})),e.deletedMessage!==this.state.deletedMessage&&(this.toast.current.showToast("green","The message was successfully deleted."),this.setState({deletedMessage:e.deletedMessage}),this.props.getMessages()),e.failDeleteMessage!==this.state.failDeleteMessage&&(this.toast.current.showToast("red","An error occurred while deleting message."),this.setState({failDeleteMessage:e.failDeleteMessage}))}},{key:"componentWillUnmount",value:function(){this.props.clearMessageSate()}},{key:"changePage",value:function(e){this.setState({currentPage:e,paginationEndIndex:e*this.state.itemPerPage,paginationStartIndex:e*this.state.itemPerPage-this.state.itemPerPage})}},{key:"pagination",value:function(){for(var e=this,t=Math.ceil(this.props.items.length/this.state.itemPerPage),a=[],n=function(t){a.push(c.a.createElement("li",{key:t,onClick:function(){return e.changePage(t)},className:e.state.currentPage===t?"active":""},c.a.createElement("span",null,t)))},s=1;s<=t;s++)n(s);return a}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container mt-25"},c.a.createElement(U.a,null,c.a.createElement("title",null,"Messages")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement("table",null,c.a.createElement("caption",null,"Received Messages"),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Name"),c.a.createElement("th",{scope:"col"},"Email"),c.a.createElement("th",{scope:"col"},"Time"),c.a.createElement("th",{scope:"col"},"Action"))),c.a.createElement("tbody",null,this.props.items.slice(this.state.paginationStartIndex,this.state.paginationEndIndex).map((function(t){return c.a.createElement("tr",{key:t.uniqueID},c.a.createElement("td",{"data-label":"Name"},t.name),c.a.createElement("td",{"data-label":"Email"},t.email),c.a.createElement("td",{"data-label":"Time"},new Date(t.date).toDateString()),c.a.createElement("td",{"data-label":"Action"},c.a.createElement("div",{className:"action"},c.a.createElement("span",{className:"tooltip fade","data-title":"See",onClick:function(){return e.modal.current.showModal(t.name,t.message,"IP Address : ".concat(t.ip))}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))),c.a.createElement("span",{className:"tooltip fade","data-title":"Delete",onClick:function(){return e.props.deleteMessage(t.uniqueID)}},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}))))))})))),!this.state.finishLoading&&this.props.items.length<=0&&c.a.createElement("div",{style:{margin:"60px 0 40px",textAlign:"center"}},c.a.createElement(q,null)),this.state.finishLoading&&this.props.items.length<=0&&c.a.createElement("p",{className:"no-data"},"It seems there is no message."),c.a.createElement("ul",{className:"pagination"},Math.ceil(this.props.items.length/this.state.itemPerPage)>1&&this.pagination().map((function(e){return e})))),c.a.createElement(ae,{ref:this.modal}))),c.a.createElement(_,{ref:this.toast}))}}]),a}(c.a.Component),ie=Object(g.b)((function(e){return{items:e.message.items.reverse(),failGetMessages:e.message.failGetMessages,failDeleteMessage:e.message.failDeleteMessage,deletedMessage:e.message.deletedMessage}}),{getMessages:function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/messages",ne);case 3:a=e.sent,t({type:"GET_MESSAGES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"FAIL_GET_MESSAGES"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},deleteMessage:function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.delete("/api/messages/".concat(e),ne);case 3:a({type:"DELETE_MESSAGE"}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"FAIL_DELETE_MESSAGE"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},clearMessageSate:function(){return function(e){e({type:"CLEAR_MESSAGE_STATE"})}}})(se),le={headers:{"Content-Type":"application/json"}},ce=function(e){Object(j.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).handleAddFields=function(e){e.preventDefault();var t=Object(H.a)(n.state.inputFields);t.push({key:"",value:""}),n.setState({inputFields:t})},n.handleRemoveFields=function(e){var t=Object(H.a)(n.state.inputFields);t.splice(e,1),n.setState({inputFields:t});var a=n.state.inputFields[e].uniqueID;void 0!==a&&n.props.deleteExtraField(a)},n.handleInputChange=function(e,t){var a=Object(H.a)(n.state.inputFields);"key"===t.target.name?a[e].key=t.target.value:a[e].value=t.target.value,n.setState({inputFields:a})},n.handleSubmit=function(e){e.preventDefault(),n.props.updateExtraFields({inputFields:n.state.inputFields})},n.state={inputFields:[{key:"",value:""}],failGetExtraFields:0,failUpdateExtraFields:0,successUpdateExtraFields:0,failDeleteExtraField:0,successDeleteExtraField:0},n.toast=c.a.createRef(),n}return Object(F.a)(a,[{key:"componentWillMount",value:function(){this.props.getExtraFields()}},{key:"componentWillUnmount",value:function(){this.props.clearExtraFieldsState()}},{key:"componentWillReceiveProps",value:function(e){e.failGetExtraFields!==this.state.failGetExtraFields&&(this.toast.current.showToast("red","There was a problem when receiving extra fields."),this.setState({failGetExtraFields:e.failGetExtraFields})),e.failUpdateExtraFields!==this.state.failUpdateExtraFields&&(this.toast.current.showToast("red","There was a problem when updating extra fields."),this.setState({failUpdateExtraFields:e.failUpdateExtraFields})),e.successUpdateExtraFields!==this.state.successUpdateExtraFields&&(this.toast.current.showToast("green","Extra fields were successfully updated"),this.setState({successUpdateExtraFields:e.successUpdateExtraFields}),this.props.getExtraFields()),e.failDeleteExtraField!==this.state.failDeleteExtraField&&(this.toast.current.showToast("red","There was a problem when extra additional fields."),this.setState({failDeleteExtraField:e.failDeleteExtraField})),e.successDeleteExtraField!==this.state.successDeleteExtraField&&(this.toast.current.showToast("green","Extra fields were successfully removed."),this.setState({successDeleteExtraField:e.successDeleteExtraField}),this.props.getExtraFields()),e.items!==this.state.inputFields&&this.setState({inputFields:e.items})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container mt-25"},c.a.createElement(U.a,null,c.a.createElement("title",null,"Extra Fields")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card extra-fields-container"},c.a.createElement("h4",null,"Extra field"),c.a.createElement("form",{onSubmit:this.handleSubmit},this.state.inputFields.map((function(t,a){return c.a.createElement(l.Fragment,{key:"".concat(t,"~").concat(a)},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("input",{placeholder:"key",type:"text",className:"form-input",id:"key",name:"key",value:t.key,onChange:function(t){return e.handleInputChange(a,t)}})),c.a.createElement("div",{className:"col-8"},c.a.createElement("input",{placeholder:"value",type:"text",className:"form-input",id:"value",name:"value",value:t.value,onChange:function(t){return e.handleInputChange(a,t)}})),c.a.createElement("div",{className:"btn white regular remove-field-btn",onClick:function(){return e.handleRemoveFields(a)}},"Remove")))})),c.a.createElement("button",{className:"mt-25 btn blue regular",type:"submit"},"Save Fields"),c.a.createElement("button",{className:"btn outline regular",onClick:this.handleAddFields},"Add New"))))),c.a.createElement(_,{ref:this.toast}))}}]),a}(c.a.Component),re=Object(g.b)((function(e){return{items:e.extraFields.items,failGetExtraFields:e.extraFields.failGetExtraFields,failUpdateExtraFields:e.extraFields.failUpdateExtraFields,successUpdateExtraFields:e.extraFields.successUpdateExtraFields,failDeleteExtraField:e.extraFields.failDeleteExtraField,successDeleteExtraField:e.extraFields.successDeleteExtraField}}),{getExtraFields:function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/extra-fields",le);case 3:a=e.sent,t({type:"GET_EXTRA_FIELDS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"FAIL_GET_EXTRA_FIELDS"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},updateExtraFields:function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.post("/api/extra-fields",e,le);case 3:n=t.sent,a({type:"UPDATE_EXTRA_FIELDS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"FAIL_UPDATE_EXTRA_FIELDS"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteExtraField:function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.delete("/api/extra-fields/".concat(e),le);case 3:a({type:"SUCCESS_DELETE_EXTRA_FIELD"}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"FAIL_DELETE_EXTRA_FIELD"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},clearExtraFieldsState:function(){return function(e){e({type:"CLEAR_EXTRA_FIELD_STATE"})}}})(ce),oe=function(){return c.a.createElement(l.Fragment,null,c.a.createElement(U.a,null,c.a.createElement("title",null,"404 - Page not found")),c.a.createElement("div",{className:"not-found"},c.a.createElement("h1",null,"404"),c.a.createElement("p",null,"This route is not available !"),c.a.createElement(d.b,{to:"/",className:"btn blue regular"},"Login")))};var de=function(){return c.a.createElement(g.a,{store:S},c.a.createElement(d.a,null,c.a.createElement(v,null),c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/",component:R}),c.a.createElement(A,{exact:!0,path:"/contents",component:$}),c.a.createElement(A,{exact:!0,path:"/medias",component:te}),c.a.createElement(A,{exact:!0,path:"/messages",component:ie}),c.a.createElement(A,{exact:!0,path:"/extra-fields",component:re}),c.a.createElement(u.b,{component:oe}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.a.interceptors.request.use(function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("dc-auth-token");case 2:return(a=e.sent)&&(t.headers.Authorization=a),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),o.a.render(c.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.82f3f7d2.chunk.js.map